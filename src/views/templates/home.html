{% extends "partials/_master.html" %}
{% from "components/card/_macro.njk" import onsCard %}
{% from "components/hero/_macro.njk" import onsHero %}

{% block page %}
    {{ 
        onsHero(homepage.hero)
    }}
    <div class="page__container container u-pt-m">
        {% for highlight in highlights %}
            {% if loop.index % 3 == 1 %}
            <div class="grid grid--column@xs@s u-mb-m@m">
            {% endif %}
                <div class="grid__col col-4@m">
                    {{-
                        onsCard({
                            "ariaBy": 'Section highlight',
                            "id": highlight.id,
                            "textId": highlight.textId,
                            "title": highlight.title,
                            "url": highlight.url,
                            "text": highlight.text,
                            "itemsList": highlight.itemsList,
                            "attributes": {
                                "data-ga-element": 'card'
                            }
                        })
                    }}
                </div>
            {% if loop.index % 3 == 0 or loop.last %}
            </div>
            {% endif %}
        {% endfor %}
        <hr>
        <h2 class="u-mt-l u-mb-l">{{ homepage.caseStudies.mainTitle }}</h2>
        <div class="grid grid--column@xs@s u-mb-xl">
            <div class="grid__col col-4@m">
                <h3>{{ homepage.caseStudies.leftBlockTitle }}</h3>
                <p>{{ homepage.caseStudies.leftBlockText }}</p>
                <a href="{{ homepage.caseStudies.leftBlockLink }}">{{ homepage.caseStudies.leftBlockLinkText }}</a>
            </div>
            {% for entry in homepage.caseStudies.entries %}
                <div class="grid__col col-4@m">
                    {{-
                        onsCard({
                            "ariaBy": 'Case study',
                            "id": entry.id,
                            "textId": entry.textId,
                            "title": entry.title,
                            "url": entry.url,
                            "text": entry.text,
                            "attributes": {
                                "data-ga-element": 'card'
                            }
                        })
                    }}
                </div>
            {% endfor %}
        </div>
    </div>
{% endblock %}
